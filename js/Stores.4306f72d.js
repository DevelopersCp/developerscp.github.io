(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Stores"],{"02e9":function(t,e,r){"use strict";r("b0c0");var n=r("d4ec"),a=r("bee2"),o=r("ab58"),i=r("3d20"),s=r.n(i),c=function(){function t(){Object(n["a"])(this,t)}return Object(a["a"])(t,[{key:"list_admin",value:function(){return o["a"].get("admin/stores/").then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"list_customer",value:function(){return o["a"].get("stores_owner/").then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"add_store_customer",value:function(t){return o["a"].post("stores_owner/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"add_store_admin",value:function(t){return o["a"].post("admin/stores/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data}))}},{key:"add_owner",value:function(t,e){return o["a"].post("admin/stores/"+e+"/add_owner/",{user:t}).then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"remove_owner",value:function(t,e){return o["a"].post("admin/stores/"+e+"/remove_owner/",{id:t}).then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"update",value:function(t,e){return o["a"].put("stores_owner/"+e+"/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data})).catch((function(t){console.log(t.response.data),s.a.fire({icon:"error",title:"Error",text:t.response.data["non_field_errors"]})}))}},{key:"delete",value:function(t){return o["a"].delete("admin/stores/"+t+"/").then((function(t){return t.data}))}},{key:"get",value:function(t){return o["a"].get("stores_owner/"+t+"/").then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"delete_stores",value:function(t){return o["a"].post("admin/stores/remove_stores/",{id_stores:t}).then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"export_stores",value:function(t){return o["a"].post("admin/stores/export_stores/",{id_stores:t},{responseType:"blob"}).then((function(t){return t})).catch((function(t){console.log(t.response.data),s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"add_walmart",value:function(t){return o["a"].post("walmart/",{store:t.store,walmart_username:t.walmart_username,walmart_password:t.walmart_password,last_4_digits_of_the_card:t.card,CVV:parseInt(t.CVV),month:t.month,year:t.year}).then((function(t){return t.data}))}},{key:"update_walmart",value:function(t,e){return o["a"].put("walmart/"+e+"/",{store:t.store,walmart_username:t.username,walmart_password:t.password,last_4_digits_of_the_card:t.card,CVV:t.CVV,month:t.month,year:t.year}).then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"send_email",value:function(t){return o["a"].post("admin/stores/send_email/",{subject:t.subject,message:t.message,emails:t.emails}).then((function(t){return t.data}))}},{key:"send_request_info",value:function(t){return o["a"].post("admin/stores/send_information/",{emails:t.emails,message:t.message}).then((function(t){return t.data}))}}]),t}();e["a"]=new c},1182:function(t,e,r){},"34ba":function(t,e,r){"use strict";r("1182")},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,a=r("69f3"),o=r("7dd0"),i="String Iterator",s=a.set,c=a.getterFor(i);o(String,"String",(function(t){s(this,{type:i,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,a=e.index;return a>=r.length?{value:void 0,done:!0}:(t=n(r,a),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),s=r("50c4"),c=r("8418"),l=r("35a1");t.exports=function(t){var e,r,u,d,f,v,m=a(t),h="function"==typeof this?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,g=void 0!==_,b=l(m),x=0;if(g&&(_=n(_,p>2?arguments[2]:void 0,2)),void 0==b||h==Array&&i(b))for(e=s(m.length),r=new h(e);e>x;x++)v=g?_(m[x],x):m[x],c(r,x,v);else for(d=b.call(m),f=d.next,r=new h;!(u=f.call(d)).done;x++)v=g?o(d,_,[u.value,x],!0):u.value,c(r,x,v);return r.length=x,r}},"60c6":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav-bar",{attrs:{name:t.title}}),r("v-container",{staticClass:"text-center"},[r("router-link",{attrs:{to:"/addstore"}},[r("v-btn",{attrs:{color:"#E47911",large:"",height:"40px",dark:""}},[r("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-plus ")]),t._v(" Add a new store ")],1)],1)],1),r("v-card",{staticClass:"ma-auto pb-5",attrs:{width:"90%",outlined:""}},[r("v-container",{staticClass:"text-center"},[r("v-card",[r("v-layout",[r("v-col",{staticClass:"text-right",attrs:{cols:"10"}},[r("v-btn",{staticClass:"mx-auto",attrs:{icon:""},on:{click:t.activeExport}},[r("v-icon",{attrs:{size:"24px",color:t.export_btn_color}},[t._v(" mdi-file-move ")])],1)],1),r("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[r("v-btn",{staticClass:"mx-auto",attrs:{icon:""},on:{click:t.activeDelete}},[r("v-icon",{attrs:{size:"24px",color:t.delete_btn_color}},[t._v(" mdi-delete ")])],1)],1)],1),r("v-card-title",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),r("v-data-table",{attrs:{headers:t.headers,search:t.search,items:t.stores,loading:t.loading,"loading-text":"Loading... Please wait","hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.status",fn:function(e){var n=e.item;return[r("v-chip",{attrs:{color:t.getColor(n.status),dark:""}},[t._v(" "+t._s(t._f("name_status")(n.status))+" ")])]}},{key:"item.unique_id",fn:function(e){var n=e.item;return[t.select?r("v-menu",{attrs:{top:"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[r("v-btn",t._g(t._b({attrs:{icon:"",dark:""}},"v-btn",a,!1),n),[r("v-icon",{staticClass:"mb-2",attrs:{right:"",color:"#E47911",size:"26px"}},[t._v(" mdi-arrow-down-drop-circle ")])],1)]}}],null,!0)},[r("v-list",[r("v-list-item",{attrs:{link:""}},[r("v-list-item-title",[r("router-link",{attrs:{to:{name:"UpdateStore",params:{id:n.unique_id}}}},[t._v(" Update store ")])],1)],1),r("v-list-item",{attrs:{link:""}},[r("v-list-item-title",[r("router-link",{attrs:{to:{name:"AddWalmart",params:{id:n.unique_id}}}},[t._v(" Add walmart info to store ")])],1)],1),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.delete_store(n.unique_id)}}},[r("v-list-item-title",[t._v(" Delete register ")])],1)],1)],1):r("v-checkbox",{staticClass:"my-n3",attrs:{value:n.unique_id,color:"#E47911"},model:{value:t.idStore,callback:function(e){t.idStore=e},expression:"idStore"}})]}}])})],1),r("br"),r("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t.select?t._e():r("v-row",[r("v-col",[r("v-btn",{staticClass:"mx-4 my-2",attrs:{color:"#989898",dark:""},on:{click:t.desactivarBtn}},[t._v(" CANCEL ")]),t.change?r("v-btn",{staticClass:"mx-4 my-2",attrs:{color:"#E47911",dark:"",loading:t.loading_exp},on:{click:t.export_stores}},[t._v(" EXPORT ")]):t._e(),t.change?t._e():r("v-btn",{staticClass:"mx-4 my-2",attrs:{color:"#E47911",dark:"",loading:t.loading_del},on:{click:t.delete_stores}},[t._v(" DELETE ")])],1)],1)],1)],1),r("footer-nav")],1)},a=[],o=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("d000")),i=r("fd2d"),s=r("02e9"),c=r("3d20"),l=r.n(c),u={components:{NavBar:o["a"],FooterNav:i["a"]},data:function(){return{title:"STORES",select:!0,change:!0,loading:!0,loading_exp:!1,loading_del:!1,export_btn_color:"#000",delete_btn_color:"#000",page:1,pageCount:0,itemsPerPage:5,search:"",stores:[],idStore:[],headers:[{text:"Store",value:"name"},{text:"Status",value:"status"},{text:"Actions",value:"unique_id",sortable:!1,search:!1}]}},mounted:function(){var t=this;s["a"].list_admin().then((function(e){t.stores=e,t.loading=!1}))},filters:{name_status:function(t){switch(t){case"A":return"Active";case"ED":return"Everyday";case"S":return"Suspended";case"V":return"Vacation";case"DA":return"Denied activation";default:return"Pending activation"}}},methods:{activeExport:function(){this.change=!0,this.select=!this.select,this.export_btn_color=this.select?"#000":"#E47911",this.delete_btn_color="#000"},activeDelete:function(){this.change=!1,this.select=!this.select,this.delete_btn_color=this.select?"#000":"#E47911",this.export_btn_color="#000"},desactivarBtn:function(){this.select=!this.select,this.export_btn_color="#000",this.delete_btn_color="#000"},getColor:function(t){return"A"==t?"green":"ED"==t?"purple":"S"==t?"red":"DA"==t?"gray":"V"==t?"yellow":"orange"},refresh_list:function(){var t=this;s["a"].list_admin().then((function(e){t.stores=e,t.loading=!1}))},delete_stores:function(){var t=this;this.loading_del=!0,s["a"].delete_stores(this.idStore).then((function(e){t.loading_del=!1,l.a.fire({icon:"success",title:"Success",text:e["message"]}).then((function(){t.refresh_list()}))}))},export_stores:function(){var t=this;this.loading_exp=!0,s["a"].export_stores(this.idStore).then((function(e){var r=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=r,n.setAttribute("download","stores.xlsx"),document.body.appendChild(n),n.click(),t.loading_exp=!1}))},delete_store:function(t){var e=this;l.a.fire({icon:"question",title:"Confirm",text:"Are you sure you want to delete this store?",confirmButtonText:"YES",cancelButtonText:"NO",showCancelButton:!0}).then((function(r){r.isConfirmed&&(s["a"].delete(t),l.a.fire({icon:"success",title:"Success",text:"Store successfully removed."}).then((function(){e.refresh_list()})).catch((function(t){l.a.fire({icon:"error",title:"Error",text:t.response.data})})))}))}}},d=u,f=r("2877"),v=Object(f["a"])(d,n,a,!1,null,null,null);e["default"]=v.exports},6547:function(t,e,r){var n=r("a691"),a=r("1d80"),o=function(t){return function(e,r){var o,i,s=String(a(e)),c=n(r),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):o:t?s.slice(c,c+2):i-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},8418:function(t,e,r){"use strict";var n=r("c04e"),a=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var i=n(e);i in t?a.f(t,i,o(0,r)):t[i]=r}},"9bdd":function(t,e,r){var n=r("825a"),a=r("2a62");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(i){throw a(t),i}}},b0c0:function(t,e,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in o)&&a(o,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(t){return""}}})},d000:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-toolbar",{attrs:{dense:"",color:"#000",dark:""}},[r("v-btn",{attrs:{icon:""}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),r("v-toolbar-title",[t._v(t._s(t.name))]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){return t.logout()}}},[r("v-icon",[t._v(" mdi-logout ")])],1)],1),r("v-navigation-drawer",{attrs:{absolute:"",temporary:"",color:"#000",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",{attrs:{nav:"",dense:""}},[r("v-list-item-group",{attrs:{"active-class":"gray--text text--accent-4",dark:""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[r("router-link",{attrs:{to:"/dashboard"}},[r("v-list-item",[r("v-icon",[t._v(" mdi-home ")]),t._v(" "),r("v-list-item-title",[t._v(" HOME ")])],1)],1),r("router-link",{attrs:{to:"/contact"}},[r("v-list-item",[r("v-icon",[t._v(" mdi-phone ")]),t._v(" "),r("v-list-item-title",[t._v(" CONTACT ")])],1)],1),r("router-link",{attrs:{to:"/faqs"}},[r("v-list-item",[r("v-icon",[t._v(" mdi-home ")]),t._v(" "),r("v-list-item-title",[t._v(" FAQ'S ")])],1)],1),r("router-link",{attrs:{to:"/profile"}},[r("v-list-item",[r("v-icon",[t._v(" mdi-account ")]),t._v(" "),r("v-list-item-title",[t._v(" PROFILE ")])],1)],1)],1)],1)],1)],1)},a=[],o={name:"NavBar",props:["name"],data:function(){return{drawer:!1,group:null}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn||this.$router.push("/")},methods:{logout:function(){this.$store.dispatch("auth/logout")}},watch:{group:function(){this.drawer=!1}}},i=o,s=(r("34ba"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,null,null);e["a"]=c.exports},ddb0:function(t,e,r){var n=r("da84"),a=r("fdbc"),o=r("e260"),i=r("9112"),s=r("b622"),c=s("iterator"),l=s("toStringTag"),u=o.values;for(var d in a){var f=n[d],v=f&&f.prototype;if(v){if(v[c]!==u)try{i(v,c,u)}catch(h){v[c]=u}if(v[l]||i(v,l,d),a[d])for(var m in o)if(v[m]!==o[m])try{i(v,m,o[m])}catch(h){v[m]=o[m]}}}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=Stores.4306f72d.js.map