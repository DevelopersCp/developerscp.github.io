(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Users"],{1182:function(t,e,n){},"1dde":function(t,e,n){var r=n("d039"),a=n("b622"),i=n("2d00"),o=a("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"34ba":function(t,e,n){"use strict";n("1182")},"35ca":function(t,e,n){"use strict";var r=n("d4ec"),a=n("bee2"),i=n("ab58"),o=n("3d20"),s=n.n(o),c=function(){function t(){Object(r["a"])(this,t)}return Object(a["a"])(t,[{key:"list_admin",value:function(){return i["a"].get("admin/users/").then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"delete",value:function(t){return i["a"].delete("admin/users/"+t+"/").then((function(t){return t.data})).catch((function(t){s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"register",value:function(t){var e=new FormData;return e.append("email",t.email),e.append("username",t.username),e.append("img",t.img),e.append("is_staff",t.staff),e.append("phone_number",t.phone),e.append("password",t.password),e.append("confirm_password",t.confirm_password),e.append("first_name",t.firstname),e.append("last_name",t.lastname),i["a"].post("admin/users/",e,{headers:{"content-type":"multipart/form-data"}}).then((function(t){return t.data}))}},{key:"update",value:function(t,e){var n=new FormData;return n.append("email",t.email),n.append("username",t.username),n.append("is_staff",t.staff),t.img&&n.append("img",t.img),n.append("phone_number",t.phone),n.append("first_name",t.firstname),n.append("last_name",t.lastname),i["a"].put("user/"+e+"/update_user/",n,{headers:{"content-type":"multipart/form-data"}}).then((function(t){return t.data})).catch((function(t){console.log(t.response.data),s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"get",value:function(t){return i["a"].get("admin/users/"+t+"/").then((function(t){return t.data})).catch((function(t){console.log(t.response.data),s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"get_profile",value:function(){return i["a"].get("user/profile/").then((function(t){return t.data})).catch((function(t){console.log(t.response.data),s.a.fire({icon:"error",title:"Error",text:t.response.data})}))}},{key:"update_profile",value:function(t,e){var n=new FormData;return n.append("email",t.email),n.append("username",t.username),n.append("is_staff",!1),t.img&&n.append("img",t.img),n.append("phone_number",t.phone),n.append("first_name",t.firstname),n.append("last_name",t.lastname),i["a"].put("user/"+e+"/update_user/",n,{headers:{"content-type":"multipart/form-data"}}).then((function(t){return t.data}))}}]),t}();e["a"]=new c},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,a=n("69f3"),i=n("7dd0"),o="String Iterator",s=a.set,c=a.getterFor(o);i(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,a=e.index;return a>=n.length?{value:void 0,done:!0}:(t=r(n,a),e.index+=t.length,{value:t,done:!1})}))},"4de4":function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").filter,i=n("1dde"),o=n("ae40"),s=i("filter"),c=o("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),a=n("7b0b"),i=n("9bdd"),o=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,f,p,v=a(t),m="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,_=void 0!==g,b=u(v),x=0;if(_&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==b||m==Array&&o(b))for(e=s(v.length),n=new m(e);e>x;x++)p=_?g(v[x],x):v[x],c(n,x,p);else for(d=b.call(v),f=d.next,n=new m;!(l=f.call(d)).done;x++)p=_?i(d,g,[l.value,x],!0):l.value,c(n,x,p);return n.length=x,n}},6547:function(t,e,n){var r=n("a691"),a=n("1d80"),i=function(t){return function(e,n){var i,o,s=String(a(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):i:t?s.slice(c,c+2):o-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},"65f0":function(t,e,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),o=i("species");t.exports=function(t,e){var n;return a(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var r=n("c04e"),a=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var o=r(e);o in t?a.f(t,o,i(0,n)):t[o]=n}},"9bdd":function(t,e,n){var r=n("825a"),a=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){throw a(t),o}}},b727:function(t,e,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),o=n("50c4"),s=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,d=6==t,f=7==t,p=5==t||d;return function(v,m,h,g){for(var _,b,x=i(v),y=a(x),k=r(m,h,3),w=o(y.length),S=0,C=g||s,L=e?C(v,w):n||f?C(v,0):void 0;w>S;S++)if((p||S in y)&&(_=y[S],b=k(_,S,x),t))if(e)L[S]=b;else if(b)switch(t){case 3:return!0;case 5:return _;case 6:return S;case 2:c.call(L,_)}else switch(t){case 4:return!1;case 7:c.call(L,_)}return d?-1:u||l?l:L}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d000:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{dense:"",color:"#000",dark:""}},[n("v-btn",{attrs:{icon:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),n("v-toolbar-title",[t._v(t._s(t.name))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.logout()}}},[n("v-icon",[t._v(" mdi-logout ")])],1)],1),n("v-navigation-drawer",{attrs:{absolute:"",temporary:"",color:"#000",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{"active-class":"gray--text text--accent-4",dark:""},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[n("router-link",{attrs:{to:"/dashboard"}},[n("v-list-item",[n("v-icon",[t._v(" mdi-home ")]),t._v(" "),n("v-list-item-title",[t._v(" HOME ")])],1)],1),n("router-link",{attrs:{to:"/contact"}},[n("v-list-item",[n("v-icon",[t._v(" mdi-phone ")]),t._v(" "),n("v-list-item-title",[t._v(" CONTACT ")])],1)],1),n("router-link",{attrs:{to:"/faqs"}},[n("v-list-item",[n("v-icon",[t._v(" mdi-home ")]),t._v(" "),n("v-list-item-title",[t._v(" FAQ'S ")])],1)],1),n("router-link",{attrs:{to:"/profile"}},[n("v-list-item",[n("v-icon",[t._v(" mdi-account ")]),t._v(" "),n("v-list-item-title",[t._v(" PROFILE ")])],1)],1)],1)],1)],1)],1)},a=[],i={name:"NavBar",props:["name"],data:function(){return{drawer:!1,group:null}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn||this.$router.push("/")},methods:{logout:function(){this.$store.dispatch("auth/logout")}},watch:{group:function(){this.drawer=!1}}},o=i,s=(n("34ba"),n("2877")),c=Object(s["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports},ddb0:function(t,e,n){var r=n("da84"),a=n("fdbc"),i=n("e260"),o=n("9112"),s=n("b622"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var d in a){var f=r[d],p=f&&f.prototype;if(p){if(p[c]!==l)try{o(p,c,l)}catch(m){p[c]=l}if(p[u]||o(p,u,d),a[d])for(var v in i)if(p[v]!==i[v])try{o(p,v,i[v])}catch(m){p[v]=i[v]}}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},ed81:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar",{attrs:{name:t.title}}),n("v-container",{staticClass:"text-center"},[n("router-link",{attrs:{to:"/adduser"}},[n("v-btn",{attrs:{color:"#E47911",large:"",height:"40px",dark:""}},[n("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-plus ")]),t._v(" Add a new user ")],1)],1)],1),n("v-container",{staticClass:"text-center"},[n("v-card",{staticClass:"ma-auto",attrs:{width:"90%",outlined:""}},[n("br"),n("v-card",{staticClass:"ma-auto",attrs:{width:"75%",tile:""}},[n("p",{staticClass:"font-weight-bold text-left px-3 py-1"},[t._v("Types of users")]),n("v-divider"),n("v-expansion-panels",{attrs:{focusable:""}},t._l(t.types,(function(e){return n("v-expansion-panel",{key:e.name},[n("v-expansion-panel-header",{staticClass:"font-weight-light text-left px-2"},[t._v(t._s(e.name))]),n("v-expansion-panel-content",[n("v-card",[n("v-layout",[n("v-col",{staticClass:"text-right"},[n("v-btn",{staticClass:"mx-auto",attrs:{icon:"",right:""},on:{click:t.activeExport}},[n("v-icon",{attrs:{size:"24px",color:t.export_btn_color}},[t._v(" mdi-file-move ")])],1)],1)],1),n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{attrs:{headers:t.headers,search:t.search,items:e.value,loading:t.loading,"loading-text":"Loading... Please wait","hide-default-footer":"",page:t.page,"items-per-page":t.itemsPerPage},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.first_name",fn:function(e){var n=e.item;return[t._v(" "+t._s(n.first_name+" "+n.last_name)+" ")]}},{key:"item.unique_id",fn:function(e){var r=e.item;return[t.select?n("v-menu",{attrs:{top:"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",dark:""}},"v-btn",a,!1),r),[n("v-icon",{staticClass:"mb-2",attrs:{right:"",color:"#E47911",size:"26px"}},[t._v(" mdi-arrow-down-drop-circle ")])],1)]}}],null,!0)},[n("v-list",[n("v-list-item",{attrs:{link:""}},[n("v-list-item-title",[t._v(" Show user profile ")])],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-title",[n("router-link",{attrs:{to:{name:"UpdateUser",params:{id:r.unique_id}}}},[t._v(" Update user profile ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-title",{on:{click:function(e){return t.delete_user(r.unique_id)}}},[t._v(" Delete register ")])],1)],1)],1):n("v-checkbox",{staticClass:"my-n3",attrs:{value:r.unique_id,color:"#E47911"},model:{value:t.idUser,callback:function(e){t.idUser=e},expression:"idUser"}})]}}],null,!0)}),n("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),t.select?t._e():n("v-row",[n("v-col",[n("v-btn",{staticClass:"mx-4 my-2",attrs:{color:"#989898",dark:""},on:{click:t.desactivarBtn}},[t._v(" CANCEL ")]),n("v-btn",{staticClass:"mx-4 my-2",attrs:{color:"#E47911",dark:""},on:{click:t.export_users}},[t._v(" EXPORT ")])],1)],1)],1)],1)})),1)],1),n("br")],1)],1),n("footer-nav")],1)},a=[],i=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("d000")),o=n("fd2d"),s=n("35ca"),c=n("3d20"),u=n.n(c),l={components:{NavBar:i["a"],FooterNav:o["a"]},data:function(){return{title:"USERS",select:!0,export_btn_color:"#000",loading:!0,page:1,pageCount:0,itemsPerPage:5,search:"",users_admin:[],users_clients:[],idUser:[],headers:[{text:"Name",value:"first_name"},{text:"Actions",value:"unique_id",sortable:!1,search:!1}],types:[{name:"Admins",value:[]},{name:"Clients",value:[]}]}},mounted:function(){var t=this;s["a"].list_admin().then((function(e){console.log(e),t.types[0].value=e.filter((function(t){return t.is_staff})),t.types[1].value=e.filter((function(t){return!t.is_staff})),t.loading=!1}))},methods:{activeExport:function(){this.select=!this.select,this.export_btn_color=this.select?"#000":"#E47911"},desactivarBtn:function(){this.select=!this.select,this.export_btn_color="#000"},refresh_list:function(){var t=this;this.loading=!0,s["a"].list_admin().then((function(e){t.types[0].value=e.filter((function(t){return t.is_staff})),t.types[1].value=e.filter((function(t){return!t.is_staff})),t.loading=!1}))},delete_user:function(t){var e=this;u.a.fire({icon:"question",title:"Confirm",text:"Are you sure you want to delete this user?",confirmButtonText:"YES",cancelButtonText:"NO",showCancelButton:!0}).then((function(n){n.isConfirmed&&(s["a"].delete(t),u.a.fire({icon:"success",title:"Success",text:"User successfully removed."}).then((function(){e.refresh_list()})))}))},export_users:function(){s["a"].export_users(this.idUser).then((function(t){var e=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=e,n.setAttribute("download","users.xlsx"),document.body.appendChild(n),n.click()}))}}},d=l,f=n("2877"),p=Object(f["a"])(d,r,a,!1,null,null,null);e["default"]=p.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=Users.e49ed63b.js.map