(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ViewStore"],{"00dd":function(t,e,n){"use strict";var a=n("d4ec"),r=n("bee2"),o=n("ab58"),i=(n("3d20"),function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"list_sales",value:function(t){return o["a"].get("sales/"+t+"/store/").then((function(t){return t.data}))}},{key:"get",value:function(t){return o["a"].get("sales/"+t+"/").then((function(t){return t.data}))}},{key:"general_store",value:function(t){return o["a"].get("sales/"+t+"/general/").then((function(t){return t.data}))}},{key:"general_admin",value:function(){return o["a"].get("admin/sales/general/").then((function(t){return t.data}))}},{key:"current_month",value:function(){return o["a"].get("admin/sales/current_month/").then((function(t){return t.data}))}},{key:"last_month",value:function(){return o["a"].get("admin/sales/last_month/").then((function(t){return t.data}))}},{key:"three_months",value:function(){return o["a"].get("admin/sales/three_months/").then((function(t){return t.data}))}},{key:"add_sales",value:function(t){var e=new FormData;return e.append("file",t),o["a"].post("admin/sales/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return t.data}))}},{key:"delete_stores",value:function(t){return o["a"].post("admin/stores/remove_stores/",{id_stores:t}).then((function(t){return t.data}))}},{key:"export_stores",value:function(t){return o["a"].post("admin/stores/export_stores/",{id_stores:t}).then((function(t){return t.data}))}},{key:"add_walmart",value:function(t){return o["a"].post("walmart/",{store:t.store,walmart_username:t.walmart_username,walmart_password:t.walmart_password,last_4_digits_of_the_card:t.card,CVV:t.CVV,month:t.month,year:t.year}).then((function(t){return t.data}))}},{key:"update_walmart",value:function(t,e){return o["a"].put("walmart/"+e+"/",{store:t.store,walmart_username:t.username,walmart_password:t.password,last_4_digits_of_the_card:t.card,CVV:t.CVV,month:t.month,year:t.year}).then((function(t){return t.data}))}}]),t}());e["a"]=new i},"02e9":function(t,e,n){"use strict";n("b0c0");var a=n("d4ec"),r=n("bee2"),o=n("ab58"),i=(n("3d20"),function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"list_admin",value:function(){return o["a"].get("admin/stores/").then((function(t){return t.data}))}},{key:"list_customer",value:function(){return o["a"].get("stores_owner/").then((function(t){return t.data}))}},{key:"stores_owned",value:function(t){return o["a"].get("stores_owner/"+t+"/stores/").then((function(t){return t.data}))}},{key:"add_store_customer",value:function(t){return o["a"].post("stores_owner/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data}))}},{key:"add_store_admin",value:function(t){return o["a"].post("admin/stores/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data}))}},{key:"add_owner",value:function(t,e){return o["a"].post("admin/stores/"+e+"/add_owner/",{user:t}).then((function(t){return t.data}))}},{key:"remove_owner",value:function(t){return o["a"].delete("stores_owner/"+t+"/").then((function(t){return t.data}))}},{key:"update",value:function(t,e){return o["a"].put("stores_owner/"+e+"/",{name:t.name,email:t.email,phone_number:t.phone_number,address:t.address,zipcode:t.zipcode,state:t.state,status:t.status}).then((function(t){return t.data}))}},{key:"delete",value:function(t){return o["a"].delete("admin/stores/"+t+"/").then((function(t){return t.data}))}},{key:"get_info",value:function(t){return o["a"].get("stores_owner/"+t+"/").then((function(t){return t.data}))}},{key:"get_walmart",value:function(t){return o["a"].get("walmart/"+t+"/store/").then((function(t){return t.data}))}},{key:"list_owners",value:function(t){return o["a"].get("stores_owner/"+t+"/owners/").then((function(t){return t.data}))}},{key:"delete_stores",value:function(t){return o["a"].post("admin/stores/remove_stores/",{id_stores:t}).then((function(t){return t.data}))}},{key:"export_stores",value:function(t){return o["a"].post("admin/stores/export_stores/",{id_stores:t},{responseType:"blob"}).then((function(t){return t}))}},{key:"add_walmart",value:function(t){return o["a"].post("walmart/",{store:t.store,walmart_username:t.walmart_username,walmart_password:t.walmart_password,last_4_digits_of_the_card:t.card,CVV:parseInt(t.CVV),month:t.month,year:t.year}).then((function(t){return t.data}))}},{key:"update_walmart",value:function(t){return o["a"].put("walmart/"+t.id+"/",{walmart_username:t.username,walmart_password:t.password,last_4_digits_of_the_card:t.card,CVV:parseInt(t.CVV),month:t.month,year:t.year}).then((function(t){return t.data}))}},{key:"send_email",value:function(t){return o["a"].post("admin/stores/send_email/",{subject:t.subject,message:t.message,emails:t.emails}).then((function(t){return t.data}))}},{key:"send_request_info",value:function(t){return o["a"].post("admin/stores/send_information/",{emails:t.emails,message:t.message}).then((function(t){return t.data}))}}]),t}());e["a"]=new i},8943:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-bar",{attrs:{name:t.title}}),n("v-container",{staticClass:"text-center"},[n("br"),n("p",[t._v(" "+t._s(t.data_store.name)+" ")]),n("h5",{staticClass:"text-uoverlinepercase text-center"},[[n("v-chip",{attrs:{color:t.getColor(t.status),dark:""}},[t._v(" "+t._s(t.status)+" ")])]],2),n("br"),n("v-card",{attrs:{flat:""}},[n("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v(" Basic Info ")]),n("v-tab",[t._v(" Owners ")]),n("v-tab",[t._v(" Invoices ")]),n("v-tab",[t._v(" Sales ")])],1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("basic-info")],1),n("v-col",{attrs:{cols:"6"}},[n("walmart")],1)],1)],1),n("v-tab-item",[n("owners")],1),n("v-tab-item",[n("invo")],1),n("v-tab-item",[n("sale")],1)],1)],1)],1),n("footer-nav")],1)},r=[],o=n("d000"),i=n("fd2d"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-row",{staticClass:"mt-3 text-right"},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{attrs:{icon:""}},[n("router-link",{attrs:{to:{name:"UpdateStore",params:{id:t.options[6].value}}}},[n("v-icon",{attrs:{right:"",color:"#E47911"}},[t._v(" mdi-pencil ")])],1)],1)],1)],1),t._l(t.options,(function(e,a){return n("v-row",{key:a,staticClass:"mb-n8"},[n("v-col",{attrs:{cols:"12"}},[n("h6",{staticClass:"text-left"},[t._v(" "+t._s(e.text)+" ")]),n("v-text-field",{attrs:{outlined:"",dense:"",disabled:"",value:e.value}})],1)],1)}))],2)},u=[],c=(n("4160"),n("b0c0"),n("4fad"),n("159b"),n("3835")),l=n("02e9"),d=n("3d20"),f=n.n(d),m={name:"BasicInfo",data:function(){return{options:[{text:"Name",value:""},{text:"Phone number",value:""},{text:"Email",value:""},{text:"Address",value:""},{text:"Zipcode",value:""},{text:"State",value:""},{text:"Unique ID",value:""},{text:"Joined on",value:""}]}},computed:{idStore:function(){return this.$route.params.id}},methods:{refresh_get:function(){var t=this;l["a"].get_info(this.idStore).then((function(e){t.options[0].value=e.name,t.options[1].value=e.phone_number,t.options[2].value=e.email,t.options[3].value=e.address,t.options[4].value=e.zipcode,t.options[5].value=e.state,t.options[6].value=e.unique_id,t.options[7].value=e.registered_at})).catch((function(t){var e=t.response.data,n="";Object.entries(e).forEach((function(t){var e=Object(c["a"])(t,2),a=e[0],r=e[1];n+=a+": "+r+" \n "})),f.a.fire({icon:"error",title:"Error",text:n})}))}},mounted:function(){this.refresh_get()}},v=m,_=n("2877"),h=Object(_["a"])(v,s,u,!1,null,null,null),p=h.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,loading:t.loading,"loading-text":"Loading... Please wait","items-per-page":5,"item-key":"name"},scopedSlots:t._u([{key:"item.owner",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.owner.first_name+" "+a.owner.last_name)+" | "),n("router-link",{attrs:{to:t.getLink(a.unique_id)}},[t._v(" View Owner Profile "),n("v-icon",{staticClass:"ml-1",attrs:{color:"#E47911",size:"16px"}},[t._v(" mdi-eye ")])],1)]}},{key:"item.id",fn:function(e){var a=e.item;return[n("v-list-item",{attrs:{link:""},on:{click:function(e){return t.remove_owner(a.id)}}},[n("v-list-item-title",[n("v-icon",{attrs:{left:"",color:"#E47911",size:"20px"}},[t._v(" mdi-window-close ")]),t._v(" Remove owner ")],1)],1)]}}])})],1)},g=[],b={name:"Owners",data:function(){return{headers:[{text:"Owner's name",align:"start",value:"owner"},{text:"Actions",value:"id",sortable:!1}],items:[],loading:!0}},computed:{idStore:function(){return this.$route.params.id}},methods:{getLink:function(t){return console.log(t),"/viewownerprofile"},refresh_get:function(){var t=this;l["a"].list_owners(this.idStore).then((function(e){t.items=e,t.loading=!1})).catch((function(t){var e=t.response.data,n="";Object.entries(e).forEach((function(t){var e=Object(c["a"])(t,2),a=e[0],r=e[1];n+=a+": "+r+" \n "})),f.a.fire({icon:"error",title:"Error",text:n})}))},remove_owner:function(t){var e=this;l["a"].remove_owner(t).then((function(){f.a.fire({icon:"success",title:"Success",text:"The owner has removed successfully."}).then((function(){return e.refresh_get()}))})).catch((function(t){var e=t.response.data,n="";Object.entries(e).forEach((function(t){var e=Object(c["a"])(t,2),a=e[0],r=e[1];n+=a+": "+r+" \n "})),f.a.fire({icon:"error",title:"Error",text:n})}))}},mounted:function(){this.refresh_get()}},y=b,k=Object(_["a"])(y,w,g,!1,null,null,null),x=k.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,loading:t.loading,"loading-text":"Loading... Please wait","items-per-page":5,"item-key":"name"},scopedSlots:t._u([{key:"item.unique_id",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.unique_id)+" | "),n("v-btn",{attrs:{plain:""},on:{click:function(e){return t.download_invoice(a.unique_id)}}},[t._v(" View Invoice "),n("v-icon",{staticClass:"ml-1",attrs:{color:"#E47911",size:"16px"}},[t._v(" mdi-eye ")])],1)]}},{key:"item.status",fn:function(e){var a=e.item;return[n("v-chip",{attrs:{color:t.getColor(a.status),dark:""}},[t._v(" "+t._s(t._f("name_status")(a.status))+" ")])]}}])}),t._v("> ")],1)},O=[],C=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("af74")),V={name:"Invo",data:function(){return{headers:[{text:"Invoice ID",align:"start",value:"unique_id"},{text:"Status",value:"status"}],items:[],loading:!0}},filters:{name_status:function(t){return"OK"==t?"Paid":"P"==t?"Pending":"Other"}},computed:{idStore:function(){return this.$route.params.id}},methods:{getLink:function(t){return console.log(t),"/viewinvoice"},getColor:function(t){return"OK"==t?"green":"P"==t?"orange":"red"},refresh_get:function(){var t=this;C["a"].list_invoices(this.idStore).then((function(e){t.items=e,t.loading=!1})).catch((function(e){var n=e.response.data,a="";Object.entries(n).forEach((function(t){var e=Object(c["a"])(t,2),n=e[0],r=e[1];a+=n+": "+r+" \n "})),t.loading=!1,f.a.fire({icon:"error",title:"Error",text:a})}))},download_invoice:function(t){f.a.fire({icon:"question",title:"Confirm",text:"Are you sure you want to download this invoice?",confirmButtonText:"YES",cancelButtonText:"NO",showCancelButton:!0}).then((function(e){e.isConfirmed&&C["a"].download_invoice(t).then((function(e){var n=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=n,a.setAttribute("download","Invoice: "+t+".pdf"),document.body.appendChild(a),a.click(),f.a.fire({icon:"success",title:"Success",text:"Invoice successfully download."})})).catch((function(t){var e=t.response.data,n="";Object.entries(e).forEach((function(t){var e=Object(c["a"])(t,2),a=e[0],r=e[1];n+=a+": "+r+" \n "})),f.a.fire({icon:"error",title:"Error",text:n})}))}))}},mounted:function(){this.refresh_get()}},S=V,j=Object(_["a"])(S,E,O,!1,null,null,null),I=j.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,loading:t.loading,"loading-text":"Loading... Please wait","items-per-page":5,"item-key":"name"},scopedSlots:t._u([{key:"item.unique_id",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.unique_id)+" | "),n("router-link",{attrs:{to:{name:"ViewSale",params:{id:a.unique_id}}}},[t._v(" View Sale "),n("v-icon",{staticClass:"ml-1",attrs:{color:"#E47911",size:"16px"}},[t._v(" mdi-eye ")])],1)]}},{key:"item.amount_sold",fn:function(e){var n=e.item;return[t._v(" $ "+t._s(n.amount_sold)+" ")]}}])}),t._v("> ")],1)},D=[],N=n("00dd"),T={name:"Sale",data:function(){return{headers:[{text:"Sale ID",align:"start",value:"unique_id"},{text:"Amount",value:"amount_sold"}],items:[],loading:!0}},computed:{idStore:function(){return this.$route.params.id}},methods:{refresh_get:function(){var t=this;N["a"].list_sales(this.idStore).then((function(e){console.log(e),t.items=e,t.loading=!1})).catch((function(e){var n=e.response.data,a="";Object.entries(n).forEach((function(t){var e=Object(c["a"])(t,2),n=e[0],r=e[1];a+=n+": "+r+" \n "})),t.loading=!1,f.a.fire({icon:"error",title:"Error",text:a})}))}},mounted:function(){this.refresh_get()}},$=T,P=Object(_["a"])($,A,D,!1,null,null,null),q=P.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-row",{staticClass:"mt-3 text-right"},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{attrs:{icon:""}},[n("router-link",{attrs:{to:{name:"UpdateWalmart",params:{id:t.idStore}}}},[n("v-icon",{attrs:{right:"",color:"#E47911"}},[t._v(" mdi-pencil ")])],1)],1)],1)],1),t._l(t.options,(function(e,a){return n("v-row",{key:a,staticClass:"mb-n8"},[n("v-col",{attrs:{cols:"12"}},[n("h6",{staticClass:"text-left"},[t._v(" "+t._s(e.text)+" ")]),n("v-text-field",{attrs:{outlined:"",dense:"",disabled:"",value:e.value}})],1)],1)}))],2)},U=[],B={name:"Walmart",data:function(){return{options:[{text:"Walmart username",value:""},{text:"Credit card",value:""},{text:"CVV",value:""},{text:"Expiration date",value:""}]}},computed:{idStore:function(){return this.$route.params.id}},methods:{refresh_get:function(){var t=this;l["a"].get_walmart(this.idStore).then((function(e){t.options[0].value=e.walmart_username,t.options[1].value="**** **** **** "+e.last_4_digits_of_the_card,t.options[2].value=e.CVV,t.options[3].value=t.expiration_date(e.month,e.year)})).catch((function(t){var e=t.response.data,n="";Object.entries(e).forEach((function(t){var e=Object(c["a"])(t,2),a=e[0],r=e[1];n+=a+": "+r+" \n "})),f.a.fire({icon:"error",title:"Error",text:n})}))},expiration_date:function(t,e){switch(t){case 1:return"JAN - "+e;case 2:return"FEB - "+e;case 3:return"MAR - "+e;case 4:return"APR - "+e;case 5:return"MAY - "+e;case 6:return"JUN - "+e;case 7:return"JUL - "+e;case 8:return"AUG - "+e;case 9:return"SEP - "+e;case 10:return"OCT - "+e;case 11:return"NOV - "+e;default:return"DEC - "+e}}},mounted:function(){this.refresh_get()}},L=B,R=Object(_["a"])(L,z,U,!1,null,null,null),J=R.exports,Y={components:{NavBar:o["a"],FooterNav:i["a"],BasicInfo:p,Walmart:J,Owners:x,Invo:I,Sale:q},data:function(){return{title:"STORE INFO",tab:null}},computed:{data_store:function(){return this.$store.state.auth.store_user},stores:function(){return this.$store.state.auth.user.stores},status:function(){switch(this.data_store.status){case"A":return"ACTIVE";case"S":return"SUSPENDED";case"DA":return"DENIED ACTIVATION";case"V":return"VACATION";case"ED":return"EVERYDAY";default:return"PENDING ACTIVATION"}},idStore:function(){return this.$route.params.id}},methods:{getColor:function(t){return"ACTIVE"==t?"green":"EVERYDAY"==t?"purple":"SUSPENDED"==t?"red":"DENIED ACTIVATION"==t?"gray":"VACATION"==t?"yellow":"orange"}}},F=Y,W=Object(_["a"])(F,a,r,!1,null,null,null);e["default"]=W.exports},af74:function(t,e,n){"use strict";n("a4d3"),n("e01a");var a=n("d4ec"),r=n("bee2"),o=n("ab58"),i=(n("3d20"),function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"list_admin",value:function(){return o["a"].get("admin/invoices/").then((function(t){return t.data}))}},{key:"list_invoices",value:function(t){return o["a"].get("invoice/".concat(t,"/store/")).then((function(t){return t.data}))}},{key:"list_pending",value:function(t){return o["a"].get("invoice/".concat(t,"/pending/")).then((function(t){return t.data}))}},{key:"add_invoice",value:function(t){var e=new FormData;return e.append("file",t.file),e.append("due_date",t.due_date),e.append("description",t.description),o["a"].post("admin/invoices/",e,{headers:{"content-type":"multipart/form-data"}}).then((function(t){return t.data}))}},{key:"add_extra",value:function(t){return o["a"].post("admin/invoices/create_invoices/",{amount:t.amount,due_date:t.due_date,description:t.description,id_stores:t.id_stores}).then((function(t){return t.data}))}},{key:"delete_invoices",value:function(t){return o["a"].post("admin/invoices/remove_invoices/",{id_invoices:t}).then((function(t){return t.data}))}},{key:"export_invoices",value:function(t){return o["a"].post("admin/invoices/export_invoices/",{id_invoices:t},{responseType:"blob"}).then((function(t){return t}))}},{key:"update",value:function(t,e){return o["a"].put("admin/invoices/"+e+"/",{amount:t.amount,due_date:t.due_date,description:t.description,status:t.status,store:t.store}).then((function(t){return t.data}))}},{key:"get",value:function(t){return o["a"].get("admin/invoices/"+t+"/").then((function(t){return t.data}))}},{key:"download_invoice",value:function(t){return o["a"].get("invoice/"+t+"/download_invoice",{responseType:"blob"}).then((function(t){return t.data}))}}]),t}());e["a"]=new i}}]);
//# sourceMappingURL=ViewStore.ab2caf62.js.map